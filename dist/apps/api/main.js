(()=>{"use strict";var e={292:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppModule=void 0;const o=r(752),i=r(481),s=r(143),a=r(794),n=r(793),d=r(689),u=r(385),c=r(17),_=r(857),l=r(577),p=r(244),v=r(907),f=r(571),y=r(623);let g=class{};g=(0,o.__decorate)([(0,i.Module)({imports:[a.MongooseModule.forRootAsync({imports:[n.ConfigModule],useFactory:e=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){return{uri:e.get(v.configuration.YMRLK_MONGODB_CONNECTION_STRING),dbName:e.get(v.configuration.YMRLK_MONGODB_DATABASE_NAME),retryAttempts:e.get(v.configuration.YMRLK_MONGODB_RETRY_ATTEMPTS),retryDelay:e.get(v.configuration.YMRLK_MONGODB_RETRY_DELAY),user:e.get(v.configuration.YMRLK_MONGODB_USER),pass:e.get(v.configuration.YMRLK_MONGODB_PASSWORD)}})),inject:[n.ConfigService]}),n.ConfigModule.forRoot({cache:!0,isGlobal:!0,envFilePath:".env.development.local"}),d.ThrottlerModule.forRootAsync({imports:[n.ConfigModule],useFactory:e=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){return{ttl:e.get(v.configuration.YMRLK_THROTTLE_TTL),limit:e.get(v.configuration.YMRLK_THROTTLE_LIMIT)}})),inject:[n.ConfigService]}),s.RouterModule.register(f.routes),_.AuthModule,l.UsersModule,y.SharedModule,u.ServeStaticModule.forRoot({rootPath:(0,c.join)(__dirname,"..","client"),exclude:["/api*"]})],providers:[{provide:s.APP_GUARD,useClass:d.ThrottlerGuard},{provide:s.APP_GUARD,useClass:p.JwtAuthGuard}]})],g),t.AppModule=g},907:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.configuration=void 0,t.configuration={YMRLK_MONGODB_CONNECTION_STRING:"YMRLK_MONGODB_CONNECTION_STRING",YMRLK_MONGODB_DATABASE_NAME:"YMRLK_MONGODB_DATABASE_NAME",YMRLK_MONGODB_RETRY_ATTEMPTS:"YMRLK_MONGODB_RETRY_ATTEMPTS",YMRLK_MONGODB_RETRY_DELAY:"YMRLK_MONGODB_RETRY_DELAY",YMRLK_MONGODB_USER:"YMRLK_MONGODB_USER",YMRLK_MONGODB_PASSWORD:"YMRLK_MONGODB_PASSWORD",YMRLK_THROTTLE_TTL:"YMRLK_THROTTLE_TTL",YMRLK_THROTTLE_LIMIT:"YMRLK_THROTTLE_LIMIT",YMRLK_JWT_SECRET:"YMRLK_JWT_SECRET",YMRLK_JWT_EXPIRES_IN:"YMRLK_JWT_EXPIRES_IN",YMRLK_REFRESH_TOKEN_EXPIRATION_DAYS:"YMRLK_REFRESH_TOKEN_EXPIRATION_DAYS",YMRLK_REFRESH_TOKEN_SIZE:"YMRLK_REFRESH_TOKEN_SIZE"}},254:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Roles=t.ROLES_KEY=void 0;const o=r(481);t.ROLES_KEY="roles",t.Roles=(...e)=>(0,o.SetMetadata)(t.ROLES_KEY,e)},224:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SkipJwtCheck=t.SKIP_JWT_CHECK=void 0;const o=r(481);t.SKIP_JWT_CHECK="skipJwtCheck",t.SkipJwtCheck=()=>(0,o.SetMetadata)(t.SKIP_JWT_CHECK,!0)},857:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AuthModule=void 0;const o=r(752),i=r(481),s=r(340),a=r(64),n=r(793),d=r(577),u=r(887),c=r(347),_=r(832),l=r(346),p=r(759),v=r(907);let f=class{};f=(0,o.__decorate)([(0,i.Module)({controllers:[p.AuthController],imports:[d.UsersModule,s.PassportModule,a.JwtModule.registerAsync({imports:[n.ConfigModule],useFactory:e=>(0,o.__awaiter)(void 0,void 0,void 0,(function*(){return{secret:e.get(v.configuration.YMRLK_JWT_SECRET),signOptions:{expiresIn:e.get(v.configuration.YMRLK_JWT_EXPIRES_IN)}}})),inject:[n.ConfigService]})],providers:[u.AuthService,_.LocalStrategy,c.JwtStrategy,l.JwtRefreshTokenStrategy],exports:[u.AuthService]})],f),t.AuthModule=f},759:(e,t,r)=>{var o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.AuthController=void 0;const s=r(752),a=r(481),n=r(25),d=r(887),u=r(519),c=r(18),_=r(224);let l=class{constructor(e){this.authService=e}login(e){return(0,s.__awaiter)(this,void 0,void 0,(function*(){const{userName:t,uuid:r}=e.user._doc;return this.authService.login({user:{userName:t,sub:r}})}))}refreshToken(e){return(0,s.__awaiter)(this,void 0,void 0,(function*(){return yield this.authService.login(e)}))}};(0,s.__decorate)([(0,a.HttpCode)(200),(0,_.SkipJwtCheck)(),(0,a.UseGuards)(n.LocalAuthGuard),(0,a.Post)("login"),(0,s.__param)(0,(0,a.Request)()),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",[Object]),(0,s.__metadata)("design:returntype",Promise)],l.prototype,"login",null),(0,s.__decorate)([(0,a.HttpCode)(200),(0,_.SkipJwtCheck)(),(0,a.UseGuards)(c.JwtRefreshAuthGuard),(0,a.Post)("refresh"),(0,s.__param)(0,(0,a.Request)()),(0,s.__metadata)("design:type",Function),(0,s.__metadata)("design:paramtypes",["function"==typeof(o=void 0!==u.AuthTokenRequestPayloadInterface&&u.AuthTokenRequestPayloadInterface)?o:Object]),(0,s.__metadata)("design:returntype",Promise)],l.prototype,"refreshToken",null),l=(0,s.__decorate)([(0,a.Controller)(),(0,s.__metadata)("design:paramtypes",["function"==typeof(i=void 0!==d.AuthService&&d.AuthService)?i:Object])],l),t.AuthController=l},244:(e,t,r)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.JwtAuthGuard=void 0;const i=r(752),s=r(481),a=r(340),n=r(143),d=r(224);let u=class extends((0,a.AuthGuard)("jwt")){constructor(e){super(),this.reflector=e}canActivate(e){return!!this.reflector.getAllAndOverride(d.SKIP_JWT_CHECK,[e.getHandler(),e.getClass()])||super.canActivate(e)}};u=(0,i.__decorate)([(0,s.Injectable)(),(0,i.__metadata)("design:paramtypes",["function"==typeof(o=void 0!==n.Reflector&&n.Reflector)?o:Object])],u),t.JwtAuthGuard=u},18:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.JwtRefreshAuthGuard=void 0;const o=r(752),i=r(481),s=r(340);let a=class extends((0,s.AuthGuard)("jwt-refresh")){};a=(0,o.__decorate)([(0,i.Injectable)()],a),t.JwtRefreshAuthGuard=a},25:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalAuthGuard=void 0;const o=r(752),i=r(481),s=r(340);let a=class extends((0,s.AuthGuard)("local")){};a=(0,o.__decorate)([(0,i.Injectable)()],a),t.LocalAuthGuard=a},519:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},887:(e,t,r)=>{var o,i,s;Object.defineProperty(t,"__esModule",{value:!0}),t.AuthService=void 0;const a=r(752),n=r(481),d=r(793),u=r(64),c=r(96),_=r(685),l=r(348),p=r(907);let v=class{constructor(e,t,r){this.usersService=e,this.jwtService=t,this.configService=r}validateUser(e,t){return(0,a.__awaiter)(this,void 0,void 0,(function*(){const r=yield this.usersService.findOne(e);if(!r)return null;const o=yield(0,c.compare)(t,r.password);if(r&&o){const{password:e}=r;return(0,a.__rest)(r,["password"])}}))}login(e){return(0,a.__awaiter)(this,void 0,void 0,(function*(){const{userName:t,sub:r}=e.user,o={userName:t,sub:r};return{accessToken:this.jwtService.sign(o),refreshToken:yield this.generateRefreshToken(r)}}))}generateRefreshToken(e){return(0,a.__awaiter)(this,void 0,void 0,(function*(){const t=(0,_.generate)(this.configService.get(p.configuration.YMRLK_REFRESH_TOKEN_SIZE)),r=new Date;return r.setDate(r.getDate()+ +this.configService.get(p.configuration.YMRLK_REFRESH_TOKEN_EXPIRATION_DAYS)),yield this.usersService.saveOrUpdateRefreshToken(e,t,r),t}))}};v=(0,a.__decorate)([(0,n.Injectable)(),(0,a.__metadata)("design:paramtypes",["function"==typeof(o=void 0!==l.UsersService&&l.UsersService)?o:Object,"function"==typeof(i=void 0!==u.JwtService&&u.JwtService)?i:Object,"function"==typeof(s=void 0!==d.ConfigService&&d.ConfigService)?s:Object])],v),t.AuthService=v},346:(e,t,r)=>{var o,i;Object.defineProperty(t,"__esModule",{value:!0}),t.JwtRefreshTokenStrategy=void 0;const s=r(752),a=r(481),n=r(793),d=r(340),u=r(136),c=r(348),_=r(907);let l=class extends((0,d.PassportStrategy)(u.Strategy,"jwt-refresh")){constructor(e,t){super({jwtFromRequest:u.ExtractJwt.fromBodyField("accessToken"),ignoreExpiration:!0,secretOrKey:e.get(_.configuration.YMRLK_JWT_SECRET),passReqToCallback:!0}),this.configService=e,this.usersService=t}validate(e,t){return(0,s.__awaiter)(this,void 0,void 0,(function*(){const r=yield this.usersService.findByUUID(t.sub);if(!r)throw new a.UnauthorizedException("No refresh token found");if(e.body.refreshToken!=(yield r).refreshToken)throw new a.UnauthorizedException("Refresh token does not matched");if(new Date>new Date((yield r).refreshTokenExpiresIn))throw new a.UnauthorizedException("Refresh token expired");return{sub:t.sub,userName:r.userName}}))}};l=(0,s.__decorate)([(0,a.Injectable)(),(0,s.__metadata)("design:paramtypes",["function"==typeof(o=void 0!==n.ConfigService&&n.ConfigService)?o:Object,"function"==typeof(i=void 0!==c.UsersService&&c.UsersService)?i:Object])],l),t.JwtRefreshTokenStrategy=l},347:(e,t,r)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.JwtStrategy=void 0;const i=r(752),s=r(481),a=r(340),n=r(136),d=r(793),u=r(907);let c=class extends((0,a.PassportStrategy)(n.Strategy,"jwt")){constructor(e){super({jwtFromRequest:n.ExtractJwt.fromAuthHeaderAsBearerToken(),ignoreExpiration:!1,secretOrKey:e.get(u.configuration.YMRLK_JWT_SECRET)}),this.configService=e}validate(e){return(0,i.__awaiter)(this,void 0,void 0,(function*(){return{sub:e.sub,userName:e.userName}}))}};c=(0,i.__decorate)([(0,s.Injectable)(),(0,i.__metadata)("design:paramtypes",["function"==typeof(o=void 0!==d.ConfigService&&d.ConfigService)?o:Object])],c),t.JwtStrategy=c},832:(e,t,r)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStrategy=void 0;const i=r(752),s=r(481),a=r(143),n=r(340),d=r(55),u=r(887);let c=class extends((0,n.PassportStrategy)(d.Strategy)){constructor(e){super({usernameField:"email",passwordField:"password",passReqToCallback:!0}),this.moduleRef=e}validate(e,t,r){return(0,i.__awaiter)(this,void 0,void 0,(function*(){const o=a.ContextIdFactory.getByRequest(e),i=yield this.moduleRef.resolve(u.AuthService,o),n=yield i.validateUser(t,r);if(!n)throw new s.HttpException("User was not found",s.HttpStatus.NOT_FOUND);return n}))}};c=(0,i.__decorate)([(0,s.Injectable)(),(0,i.__metadata)("design:paramtypes",["function"==typeof(o=void 0!==a.ModuleRef&&a.ModuleRef)?o:Object])],c),t.LocalStrategy=c},741:(e,t,r)=>{var o,i,s,a,n;Object.defineProperty(t,"__esModule",{value:!0}),t.UsersController=void 0;const d=r(752),u=r(481),c=r(383),_=r(224),l=r(348),p=r(254);let v=class{constructor(e){this.usersService=e}getByEmail(e){return(0,d.__awaiter)(this,void 0,void 0,(function*(){const t=yield this.usersService.findByEmail(e.email);if(!t)throw new u.HttpException({status:u.HttpStatus.NOT_FOUND,error:`User with ${e.email} email was not found`},u.HttpStatus.NOT_FOUND);return t}))}getByUUID(e){return(0,d.__awaiter)(this,void 0,void 0,(function*(){const t=yield this.usersService.findByUUID(e.uuid);if(!t)throw new u.HttpException({status:u.HttpStatus.NOT_FOUND,error:`User with ${e.uuid} was not found`},u.HttpStatus.NOT_FOUND);return t}))}createOne(e){return(0,d.__awaiter)(this,void 0,void 0,(function*(){const t=yield this.usersService.createOne(e);if(t)return t;throw new u.HttpException({status:u.HttpStatus.BAD_REQUEST,error:"User already exist"},u.HttpStatus.BAD_REQUEST)}))}addRole(e){return e}};(0,d.__decorate)([(0,u.Get)("email/:email"),(0,d.__param)(0,(0,u.Param)()),(0,d.__metadata)("design:type",Function),(0,d.__metadata)("design:paramtypes",[Object]),(0,d.__metadata)("design:returntype","function"==typeof(o="undefined"!=typeof Promise&&Promise)?o:Object)],v.prototype,"getByEmail",null),(0,d.__decorate)([(0,u.Get)("uuid/:uuid"),(0,d.__param)(0,(0,u.Param)()),(0,d.__metadata)("design:type",Function),(0,d.__metadata)("design:paramtypes",[Object]),(0,d.__metadata)("design:returntype","function"==typeof(i="undefined"!=typeof Promise&&Promise)?i:Object)],v.prototype,"getByUUID",null),(0,d.__decorate)([(0,u.HttpCode)(200),(0,_.SkipJwtCheck)(),(0,u.Post)("register"),(0,d.__param)(0,(0,u.Body)()),(0,d.__metadata)("design:type",Function),(0,d.__metadata)("design:paramtypes",["function"==typeof(s=void 0!==c.UserInterface&&c.UserInterface)?s:Object]),(0,d.__metadata)("design:returntype","function"==typeof(a="undefined"!=typeof Promise&&Promise)?a:Object)],v.prototype,"createOne",null),(0,d.__decorate)([(0,u.HttpCode)(200),(0,u.Post)("remove-user"),(0,p.Roles)(c.RoleEnum.Admin),(0,d.__param)(0,(0,u.Body)()),(0,d.__metadata)("design:type",Function),(0,d.__metadata)("design:paramtypes",[Object]),(0,d.__metadata)("design:returntype",Object)],v.prototype,"addRole",null),v=(0,d.__decorate)([(0,u.Controller)(),(0,d.__metadata)("design:paramtypes",["function"==typeof(n=void 0!==l.UsersService&&l.UsersService)?n:Object])],v),t.UsersController=v},121:(e,t,r)=>{var o,i,s;Object.defineProperty(t,"__esModule",{value:!0}),t.UserSchema=t.User=void 0;const a=r(752),n=r(794);let d=class{};(0,a.__decorate)([(0,n.Prop)({type:String,maxlength:50}),(0,a.__metadata)("design:type",String)],d.prototype,"userName",void 0),(0,a.__decorate)([(0,n.Prop)({type:String,maxlength:50}),(0,a.__metadata)("design:type",String)],d.prototype,"firstName",void 0),(0,a.__decorate)([(0,n.Prop)({type:String,maxlength:50}),(0,a.__metadata)("design:type",String)],d.prototype,"lastName",void 0),(0,a.__decorate)([(0,n.Prop)({type:String,maxlength:250}),(0,a.__metadata)("design:type",String)],d.prototype,"shortBio",void 0),(0,a.__decorate)([(0,n.Prop)((0,n.raw)({name:{type:String},path:{type:String}})),(0,a.__metadata)("design:type","function"==typeof(o="undefined"!=typeof Record&&Record)?o:Object)],d.prototype,"avatar",void 0),(0,a.__decorate)([(0,n.Prop)((0,n.raw)({url:{type:String},prefix:{type:String}})),(0,a.__metadata)("design:type","function"==typeof(i="undefined"!=typeof Record&&Record)?i:Object)],d.prototype,"accountUrl",void 0),(0,a.__decorate)([(0,n.Prop)({type:String,required:!0,unique:!0}),(0,a.__metadata)("design:type",String)],d.prototype,"email",void 0),(0,a.__decorate)([(0,n.Prop)({type:String,required:!0}),(0,a.__metadata)("design:type",String)],d.prototype,"password",void 0),(0,a.__decorate)([(0,n.Prop)((0,n.raw)({country:{type:String},city:{type:String}})),(0,a.__metadata)("design:type","function"==typeof(s="undefined"!=typeof Record&&Record)?s:Object)],d.prototype,"from",void 0),(0,a.__decorate)([(0,n.Prop)({type:[String],required:!0}),(0,a.__metadata)("design:type",Array)],d.prototype,"roles",void 0),(0,a.__decorate)([(0,n.Prop)({type:String,required:!0,unique:!0}),(0,a.__metadata)("design:type",String)],d.prototype,"uuid",void 0),(0,a.__decorate)([(0,n.Prop)({type:String}),(0,a.__metadata)("design:type",String)],d.prototype,"refreshToken",void 0),(0,a.__decorate)([(0,n.Prop)({type:Date}),(0,a.__metadata)("design:type",String)],d.prototype,"refreshTokenExpiresIn",void 0),d=(0,a.__decorate)([(0,n.Schema)()],d),t.User=d,t.UserSchema=n.SchemaFactory.createForClass(d)},348:(e,t,r)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.UsersService=void 0;const i=r(752),s=r(481),a=r(794),n=r(185),d=r(96),u=r(828),c=r(121);let _=class{constructor(e){this.userModel=e}findOne(e){return(0,i.__awaiter)(this,void 0,void 0,(function*(){return(yield this.userModel.findOne({email:e}).exec())||null}))}findByEmail(e){return(0,i.__awaiter)(this,void 0,void 0,(function*(){return(yield this.userModel.findOne({email:e}).select("-password").exec())||null}))}findByUUID(e){return(0,i.__awaiter)(this,void 0,void 0,(function*(){return(yield this.userModel.findOne({uuid:e}).select("-password").exec())||null}))}createOne(e){return(0,i.__awaiter)(this,void 0,void 0,(function*(){return!(yield this.findByEmail(e.email))&&this.getCreatedDocument(e)}))}saveOrUpdateRefreshToken(e,t,r){return(0,i.__awaiter)(this,void 0,void 0,(function*(){yield this.userModel.findOneAndUpdate({uuid:e},{refreshToken:t,refreshTokenExpiresIn:r})}))}getCreatedDocument(e){return(0,i.__awaiter)(this,void 0,void 0,(function*(){const t=Object.assign(Object.assign({},e),{password:yield this.hashPassword(e.password),uuid:(0,u.v1)()});if(yield new this.userModel(t).save())return!0}))}hashPassword(e){return(0,i.__awaiter)(this,void 0,void 0,(function*(){return yield(0,d.hash)(e,10)}))}};_=(0,i.__decorate)([(0,s.Injectable)(),(0,i.__param)(0,(0,a.InjectModel)(c.User.name)),(0,i.__metadata)("design:paramtypes",["function"==typeof(o=void 0!==n.Model&&n.Model)?o:Object])],_),t.UsersService=_},577:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UsersModule=void 0;const o=r(752),i=r(481),s=r(348),a=r(794),n=r(623),d=r(121),u=r(741);let c=class{};c=(0,o.__decorate)([(0,i.Module)({controllers:[u.UsersController],imports:[a.MongooseModule.forFeature([{name:d.User.name,schema:d.UserSchema}]),n.SharedModule],providers:[s.UsersService],exports:[s.UsersService]})],c),t.UsersModule=c},571:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.routes=void 0;const o=r(857),i=r(577);t.routes=[{path:"auth",module:o.AuthModule},{path:"users",module:i.UsersModule}]},786:(e,t,r)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.RolesGuard=void 0;const i=r(752),s=r(481),a=r(143),n=r(254);let d=class{constructor(e){this.reflector=e}canActivate(e){const t=this.reflector.getAllAndOverride(n.ROLES_KEY,[e.getHandler(),e.getClass()]);if(!t)return!0;const{user:r}=e.switchToHttp().getRequest();return t.some((e=>{var t;return null===(t=r.roles)||void 0===t?void 0:t.includes(e)}))}};d=(0,i.__decorate)([(0,s.Injectable)(),(0,i.__metadata)("design:paramtypes",["function"==typeof(o=void 0!==a.Reflector&&a.Reflector)?o:Object])],d),t.RolesGuard=d},623:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SharedModule=void 0;const o=r(752),i=r(481),s=r(143),a=r(786);let n=class{};n=(0,o.__decorate)([(0,i.Module)({providers:[{provide:s.APP_GUARD,useClass:a.RolesGuard}]})],n),t.SharedModule=n},553:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.environment=void 0,t.environment={production:!0,server:{host:"https://ymrlk-code-blog.herokuapp.com",port:process.env.PORT,hostname:"0.0.0.0",globalPrefix:"api",cors:{origin:"https://ymrlk-code-blog.herokuapp.com"}}}},383:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=r(752);(0,o.__exportStar)(r(754),t),(0,o.__exportStar)(r(915),t)},915:(e,t)=>{var r;Object.defineProperty(t,"__esModule",{value:!0}),t.RoleEnum=void 0,(r=t.RoleEnum||(t.RoleEnum={})).Admin="admin",r.Moderator="moderator",r.User="user"},754:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},481:e=>{e.exports=require("@nestjs/common")},793:e=>{e.exports=require("@nestjs/config")},143:e=>{e.exports=require("@nestjs/core")},64:e=>{e.exports=require("@nestjs/jwt")},794:e=>{e.exports=require("@nestjs/mongoose")},340:e=>{e.exports=require("@nestjs/passport")},385:e=>{e.exports=require("@nestjs/serve-static")},689:e=>{e.exports=require("@nestjs/throttler")},96:e=>{e.exports=require("bcrypt")},710:e=>{e.exports=require("cookie-parser")},806:e=>{e.exports=require("helmet")},185:e=>{e.exports=require("mongoose")},136:e=>{e.exports=require("passport-jwt")},55:e=>{e.exports=require("passport-local")},685:e=>{e.exports=require("rand-token")},752:e=>{e.exports=require("tslib")},828:e=>{e.exports=require("uuid")},17:e=>{e.exports=require("path")}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var s=t[o]={exports:{}};return e[o](s,s.exports,r),s.exports}var o={};(()=>{var e=o;Object.defineProperty(e,"__esModule",{value:!0});const t=r(752),i=r(481),s=r(143),a=(0,t.__importDefault)(r(710)),n=(0,t.__importDefault)(r(806)),d=r(292),u=r(553);(function(){return(0,t.__awaiter)(this,void 0,void 0,(function*(){const e=yield s.NestFactory.create(d.AppModule);e.setGlobalPrefix(u.environment.server.globalPrefix),e.use((0,n.default)()),e.use((0,a.default)()),e.enableCors({origin:u.environment.server.cors.origin,credentials:!0}),yield e.listen(u.environment.server.port,u.environment.server.hostname),i.Logger.log(`🚀 Application is running on: http://localhost:${u.environment.server.port}/${u.environment.server.globalPrefix}`)}))})().catch((e=>console.error("Server runs with error: ",e)))})();var i=exports;for(var s in o)i[s]=o[s];o.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();
//# sourceMappingURL=main.js.map